import{R as e,r as h,d as j,F as O,a as R}from"./vendor.a2e9f933.js";const U=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerpolicy&&(c.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?c.credentials="include":r.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(r){if(r.ep)return;r.ep=!0;const c=n(r);fetch(r.href,c)}};U();const k=(t,s)=>({x:t%s,y:Math.floor(t/s)}),D=t=>({x:s,y:n})=>s+n*t,E=(t,s)=>{const{x:n,y:o}=k(t,s),r=[];return n>0&&r.push({x:n-1,y:o}),n<s-1&&r.push({x:n+1,y:o}),o>0&&r.push({x:n,y:o-1}),o<s*(s-1)&&r.push({x:n,y:o+1}),r.map(D(s))};let C=[];fetch("/phrase-maze-poc/words.json").then(t=>t.json()).then(t=>{C=t});const F=t=>C.includes(t.toUpperCase()),Y=`
    aspect-square
    box-sizing-border-box py-1
    border-1 border-transparent
    text-xl sm:text-2xl font-bold
    cursor-pointer
    rounded
`,H=`
    bg-blue-200 hover:bg-blue-300
    active:bg-blue-600 active:text-white
`,W=`
    bg-gray-600 text-gray-300
`,P=`
    bg-gray-200 text-gray-800 border-gray-400 hover:bg-blue-200
    active:bg-blue-600 active:text-white
`,_=`
    bg-blue-500 text-gray-100 
    active:bg-blue-600 active:text-white
`,B=({used:t,selected:s,originOrEndpoint:n})=>!s&&!t&&n?H:t?W:s?_:P,V=({originOrEndpoint:t,used:s,selected:n,onClick:o,children:r})=>e.createElement("button",{className:Y+" "+B({used:s,selected:n,originOrEndpoint:t}),onClick:o},e.createElement("span",{style:{pointerEvents:"none"}},r)),G=()=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",id:"footer-sample-full",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},e.createElement("path",{d:"M14 21.414l-5-5.001L10.413 15L14 18.586L21.585 11L23 12.415l-9 8.999z",fill:"currentColor"}),e.createElement("path",{d:"M16 2a14 14 0 1 0 14 14A14 14 0 0 0 16 2zm0 26a12 12 0 1 1 12-12a12 12 0 0 1-12 12z",fill:"currentColor"})),q=()=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",id:"footer-sample-full",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},e.createElement("path",{d:"M12 12h2v12h-2z",fill:"currentColor"}),e.createElement("path",{d:"M18 12h2v12h-2z",fill:"currentColor"}),e.createElement("path",{d:"M4 6v2h2v20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8h2V6zm4 22V8h16v20z",fill:"currentColor"}),e.createElement("path",{d:"M12 2h8v2h-8z",fill:"currentColor"})),$=()=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",id:"footer-sample-full",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},e.createElement("path",{d:"M17 22v-8h-4v2h2v6h-3v2h8v-2h-3z",fill:"currentColor"}),e.createElement("path",{d:"M16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8z",fill:"currentColor"}),e.createElement("path",{d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14zm0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4z",fill:"currentColor"})),K=()=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",id:"footer-sample-full",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},e.createElement("path",{d:"M16 2a14 14 0 1 0 14 14A14 14 0 0 0 16 2zm0 26a12 12 0 1 1 12-12a12 12 0 0 1-12 12z",fill:"currentColor"}),e.createElement("circle",{cx:"16",cy:"23.5",r:"1.5",fill:"currentColor"}),e.createElement("path",{d:"M17 8h-1.5a4.49 4.49 0 0 0-4.5 4.5v.5h2v-.5a2.5 2.5 0 0 1 2.5-2.5H17a2.5 2.5 0 0 1 0 5h-2v4.5h2V17a4.5 4.5 0 0 0 0-9z",fill:"currentColor"})),X=()=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",id:"footer-sample-full",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},e.createElement("path",{d:"M7 3l4.266 10.36C8.71 14.948 7 17.774 7 21c0 4.962 4.037 9 9 9s9-4.038 9-9c0-3.225-1.71-6.051-4.266-7.64L25 3h-2.162l-3.912 9.498a8.908 8.908 0 0 0-2.06-.453L20.587 3h-2.162l-3.752 9.11a8.909 8.909 0 0 0-1.6.388L9.162 3H7zm4.412 0l2.541 6.174l1.082-2.627L13.575 3h-2.163zM16 14c3.859 0 7 3.14 7 7s-3.141 7-7 7s-7-3.14-7-7s3.141-7 7-7zm0 3.162l-1.168 2.62l-2.832.31l2.12 1.904l-.597 2.81L16 23.378l2.477 1.43l-.596-2.81L20 20.091l-2.832-.31L16 17.161z",fill:"currentColor"})),I=["Auspicious","Extraordinary","Amazing","Astonishing","Awesome","Brilliant","Breathtaking","Impressive","Incredible","Marvelous","Magnificent","Outstanding","Phenomenal","Remarkable","Spectacular","Stunning","Stupendous","Superb","Wonderful","Wondrous","Excellent","Fabulous","Fantastic","Great","Super"],J=I[Math.floor(Math.random()*I.length)],v=(t,s,n)=>{if(t.length===0)return!0;const o=t.filter(a=>s.includes(a));if(o.length===0)return!1;const r=t.filter(a=>!o.includes(a));if(r.length===0)return!0;const c=o.map(a=>E(a,n)).flat(),d=s.concat(c);return v(r,d,n)},m={NONE:0,FINISHED:1,INSTRUCTIONS:2},f={VALID:"Confirm your selection with the green button.",TOP_LEFT_CELL:"Remember your first word must use the top left letter.",MINIMUM_LENGTH:"Your word must be at least 3 letters long.",CONNECTED_LETTERS:"Letters must be adjacent to each other.",ISLAND:"Your word must be connected to previous words.",DICTIONARY:"Your word must be in the dictionary."},Q=()=>e.createElement(O,{className:"carousel",elementType:"div",options:{contain:!0,freeScroll:!1,wrapAround:!0,autoPlay:5e3},disableImagesLoaded:!1,reloadOnUpdate:!0,static:!0},e.createElement("div",{className:"carousel-cell"},e.createElement("img",{style:{height:"60vh"},src:"/phrase-maze-poc/images/instructions-1.webp"})),e.createElement("div",{className:"carousel-cell"},e.createElement("img",{style:{height:"60vh"},src:"/phrase-maze-poc/images/instructions-2.webp"})),e.createElement("div",{className:"carousel-cell"},e.createElement("img",{style:{height:"60vh"},src:"/phrase-maze-poc/images/instructions-3.webp"})),e.createElement("div",{className:"carousel-cell"},e.createElement("img",{style:{height:"60vh"},src:"/phrase-maze-poc/images/instructions-4.webp"})),e.createElement("div",{className:"carousel-cell"},e.createElement("img",{style:{height:"60vh"},src:"/phrase-maze-poc/images/instructions-5.webp"})),e.createElement("div",{className:"carousel-cell"},e.createElement("img",{style:{height:"60vh"},src:"/phrase-maze-poc/images/instructions-6.webp"})),e.createElement("div",{className:"carousel-cell"},e.createElement("img",{style:{height:"60vh"},src:"/phrase-maze-poc/images/instructions-7.webp"}))),Z=()=>{const[t,s]=h.exports.useState([]),n=Math.sqrt(t.length),[o,r]=h.exports.useState([]),[c,d]=h.exports.useState([]),[a,g]=h.exports.useState([]),[y,w]=h.exports.useState(!1),[p,x]=h.exports.useState(m.INSTRUCTIONS);h.exports.useEffect(()=>{fetch("/phrase-maze-poc/puzzle.json").then(l=>l.json()).then(l=>{s(l)})},[]);const M=v(a.slice(1),E(a[0],n),n),N=a.map(l=>t[l].toUpperCase()).join(""),S=Math.max(...o.map(l=>l.length)),L=Math.floor(o.reduce((l,i)=>l+i.length,0)/o.length),z=v(a.slice(1).concat(c),E(a[0],n),n);let u="";a.length>0&&!y&&w(!0),c.length===0&&!a.includes(0)?u=f.TOP_LEFT_CELL:a.length<3?u=f.MINIMUM_LENGTH:M?!z&&c.length>0?u=f.ISLAND:F(N)?u=f.VALID:u=f.DICTIONARY:u=f.CONNECTED_LETTERS;const T=c.includes(t.length-1);return e.createElement(e.Fragment,null,e.createElement("div",{onClick:()=>x(m.NONE),className:"absolute z-20 flex flex-col justify-center left-0 right-0 top-0 bottom-0 "+(p!==m.NONE?"pointer-events-auto opacity-100":"pointer-events-none opacity-0"),style:{transition:"opacity 300ms ease",background:"rgba(255,255,255,0.8)"}},e.createElement("div",{className:"m-auto rounded-lg px-16 py-8 bg-gray-100 flex flex-col items-center justify-center shadow-xl border-4 border-gray-400",style:{display:p===m.FINISHED?"block":"none",maxWidth:"85vw",opacity:p===m.FINISHED?1:0,transform:p===m.FINISHED?"translateY(0)":"translateY(1em)",transition:"opacity 300ms ease, transform 300ms ease"}},e.createElement("div",{className:"text-3xl text-center"},J,"!"),e.createElement("div",{className:"flex flex-row items-center justify-center w-full"},e.createElement("div",{style:{height:"6em",width:"6em"}},e.createElement(X,null)),e.createElement("div",{className:"pr-4",style:{fontSize:"5em"}},L)),e.createElement("div",{className:"flex flex-wrap justify-center"},o.map(l=>e.createElement("span",{style:{padding:"5px",color:l.length===S?"#3498db":"#555"}},l)))),e.createElement("div",{onClick:l=>l.stopPropagation(),className:"m-auto flex flex-col items-center justify-center rounded-lg bg-gray-50 shadow-xl border-4 border-gray-400",style:{display:p===m.INSTRUCTIONS?"block":"none",width:"min(800px, 90vw)",height:"80vh",opacity:p===m.INSTRUCTIONS?1:0,transform:p===m.INSTRUCTIONS?"translateY(0)":"translateY(1em)",transition:"opacity 300ms ease, transform 300ms ease"}},e.createElement(Q,null),e.createElement("div",{className:"flex p-2 justify-center"},e.createElement("button",{className:"font-bold px-4 py-1 flex justify-center items-center rounded-sm bg-gray-400 hover:bg-blue-400 active:bg-blue-500 text-gray-100",onClick:()=>x(m.NONE)},"Starting Playing!")))),e.createElement("div",{className:"mt-6"},e.createElement("div",{className:"max-w-lg my-3 mx-auto flex flex-row justify-center items-center text-2xl"},"PhraseMaze".split("").map((l,i)=>e.createElement("div",{key:i,className:"font-bold mx-0.5 w-8 h-8 flex justify-center items-center rounded-sm "+(l===l.toUpperCase()?"bg-blue-500 text-gray-100 border-2 border-transparent":"bg-gray-100 text-blue-600 border-2 border-blue-300")},l.toUpperCase())))),e.createElement("div",{className:"m-auto max-w-md p-2 grid",style:{gridTemplateColumns:`repeat(${n}, 1fr)`,gridTemplateRows:`repeat(${n}, 1fr)`,gridGap:"2px"}},t.map((l,i)=>e.createElement(V,{key:i,originOrEndpoint:i===0||i===t.length-1,used:c.includes(i),selected:a.includes(i),onClick:()=>{console.log(i),!c.includes(i)&&(a.includes(i)?(console.log(a),g(a.filter(b=>b!==i))):g(a.concat(i)))}},l.toUpperCase()))),e.createElement("div",null,e.createElement(j.exports.ReactSortable,{animation:200,className:"flex flex-row text-2xl pt-2 pb-1 justify-center content-center",list:a.map((l,i)=>({id:i,name:l})),setList:(l,i,b)=>{console.log(l,i,b),b.dragging&&g(l.map(A=>A.name))}},a.map(l=>e.createElement("div",{className:"font-bold mx-0.5 w-9 h-9 flex justify-center items-center rounded-sm bg-blue-400 text-gray-100",key:l},t[l].toUpperCase())))),e.createElement("div",{className:"flex flex-row text-xl pt-2 pb-1 justify-center content-center"},e.createElement("button",{className:"flex flex-row h-8 w-8 mx-0.5 p-1 justify-center items-center font-bold bg-red-400 hover:bg-red-500 text-white  rounded-sm",onClick:()=>g([])},e.createElement(q,null)),e.createElement("button",{disabled:T,className:"flex flex-row h-8 w-8 mx-0.5 p-1 justify-center items-center font-bold bg-green-400 hover:bg-green-500 text-white rounded-sm",onClick:()=>{u!==f.VALID?alert(u):(a.includes(t.length-1)&&x(m.FINISHED),d(c.concat(a)),g([]),r(o.concat(N)),w(!1))}},e.createElement(G,null)),e.createElement("button",{className:"flex flex-row h-8 w-8 mx-0.5 p-1 justify-center items-center font-bold bg-blue-400 hover:bg-blue-500 text-white rounded-sm",onClick:()=>{x(m.INSTRUCTIONS)}},e.createElement(K,null))),e.createElement("div",{className:"flex flex-row p-2 justify-center content-center"},e.createElement("div",{className:"flex flex-row py-2 pl-3 pr-6 justify-center items-center m-auto border-2 border-orange-500 bg-orange-100 text-orange-900 font-bold rounded-full",style:{transition:"opacity 100ms ease",opacity:y?"1":"0"}},e.createElement("div",{className:"h-6 w-6 mr-2"},e.createElement($,null)),u)))};R.render(e.createElement(Z,null),document.getElementById("root"));
